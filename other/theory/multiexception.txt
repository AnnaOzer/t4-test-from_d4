мультиисключения - новый архитектурный паттерн
исключение, являющееся коллекцией других исключений
контейнер, который можно бросить и поймать

- объект класска мультиэксепшен
его можно создать, имеет методы, от класса мультиэксепшен можно наследоваться
- является исключением
может быть брошено и поймано
- является коллекцией
реализует методы коллекции add append prepend filter map reduce итд все методы

мультиисключения используются в валидации с методом fill() класса СТД
fill упаковывает исключения в мультиисключение и идёт присваивать дальше

если заловили мультиэксепшен, сам объект можем считать невалидным и больше нигде не использовать,
а ошибки можно каким-то образом вывести пользователю

если одно поле генерирует несколько ошибок,
то не throw надо, а yield

в одном валидаторе не могут встречаться одновременно yield и throw

использование генератора стало возможно только в php7

как только пошла генерация исключений, ничего уже присваиваться не будет

всё это рассказывалось для класса СТД

------------------------------
что модели добавляют к классу СТД
(модели данных, находящихся в базе)

protected function validate()
вызывается автоматически перед каждым save()
по умолчанию return true
предпоследняя возможность попадания некорректных данных в базу
задуман, чтобы провалидировать модель в целом
пусть прописано что люди группами по 6 человек,
мы пытаемся сохранить седьмого
метод сходит в базу и предотвратит сохранение в базу некорректных данных

protected function beforeSave()
в нем последовательно вызываются методы бефорсейв расширений модели
лучше вообще этот метод не менять
обязательно использовать return parent::beforeSave()
например магия раздвигания деревьев перед сохранением

еще методы
protected function afterFind()
protected function afterSave()
protected function beforeDelete()
protected function afterDelete() - например почистить картинки из магазина, прибраться в файловой системе

---
в примере формы:
пусть каждая ошибка даст нам своё сообщение

далее надо (не показано как)
- пометить каждый эксепшен полем, откуда он прилетел,
добавив такое свойство каждому эксепшену
- в шаблоне каждое сообщение об ошибке привязывать к каждому конкретному полю этой формы