Компонент для проверки мейла на валидность

валидация ответ да или нет

В t4 не принято что у нас есть классы формы
потому что считается что форма существует на клиенте а на сервере её нет
создаем класс, представдяющий данные, поступившие из формы

название метода класса
слово validate
дальше подряд
название метода с большой буквы

написать валидатор в т4 это в явном виде написать код

если значение валидно, оно запишется
иначе NULL
молча без всяких ошибок значение присвоено не будет

бывает хотим знать, что не так с данными
и дать понять пользователю что исправить

в функции валидации в моделии компонента бросаем исключение,
в контроллере при попытке присвоить ловим

ограничение подхода
с выбросом одного исключения из валидатора:

 при присваиваании нескольких свойств нашему объекту
 выдав ошибку по одному свойству объекта
 остальные, валидные, тоже не присвоит

 за один раз с вами ловим только одну ошибку
 и приводит к неверному пользовательскому сценарию
 когда об ошибках сообщает по одной шаг за шагом
    вместо того чтобы получить все сообщения о всех ошибках

 когда исключение уже выброшено (оно может быть выброшено один раз)
 объект остается в подвешенном состоянии
 дальнейшие действия мы не можем продолжить

 ------------------------------

 санитация

 преобразование данных к нужному виду при записи в объект
пример - ввод номера телефона как хочет,
алидный где есть 11 цифр с любыми символами между
это валидация

уберем все символы кроме цифр
это будет санитация



